import{t as p,j as e,B as f}from"./ui-TF4rhkS0.js";import{r as x}from"./vendor-CYNtys_G.js";const g=r=>r===0?"verde":[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(r)?"vermelho":"preto",N=async({count:r=100,roletaNome:c="Auto-Roulette",batchSize:t=10,onProgress:a=()=>{}}={})=>{try{console.log(`[MOCK] Iniciando seed de ${r} números para ${c}`);const n=[{id:"23d683ae-7b17-89e3-eccb-30a3083338f0",nome:"Lightning Roulette"},{id:"48f8b26b-4dfa-5c87-a372-6f69e2902c57",nome:"Auto-Roulette"},{id:"1a3ae55f-534e-5d99-8ef8-16d20466fc36",nome:"Speed Auto Roulette"},{id:"72a4217f-a3c4-5f81-a0ad-41c307110c99",nome:"Immersive Roulette"},{id:"3a90c765-f34d-547f-81c0-f99b9f11a61f",nome:"Roulette Live"},{id:"b5c26323-67ab-5576-aa17-88da4ced1a86",nome:"Brazilian Mega Roulette"}],d=n.find(o=>o.nome===c)||n[0],m=Math.ceil(r/t);for(let o=0;o<m;o++){const i=Math.min(t,r-o*t),s=[];for(let u=0;u<i;u++){const b=Math.floor(Math.random()*37),h=g(b);s.push({roleta_id:d.id,roleta_nome:d.nome,numero:b,cor:h,timestamp:new Date().toISOString()})}console.log(`[MOCK] Lote ${o+1}/${m}: ${s.length} números gerados`),await new Promise(u=>setTimeout(u,200));const l=Math.min((o+1)*t/r,1);a(l)}return p({title:"Números inseridos com sucesso",description:`Foram gerados ${r} números para a roleta ${d.nome}`,variant:"default"}),console.log(`[MOCK] Seed concluído para ${d.nome}`),!0}catch(n){return console.error("Erro ao inserir números:",n),p({title:"Erro ao inserir números",description:"Ocorreu um erro ao tentar inserir os números. Tente novamente.",variant:"destructive"}),!1}},R=()=>{const[r,c]=x.useState(!1),[t,a]=x.useState([]),[n,d]=x.useState(20),m=async()=>{c(!0),a(["Iniciando processo de população de números..."]);const o=console.log,i=console.error;console.log=(...s)=>{o(...s),a(l=>[...l,s.join(" ")])},console.error=(...s)=>{i(...s),a(l=>[...l,`ERRO: ${s.join(" ")}`])};try{await N(n),a(s=>[...s,"Processo concluído com sucesso!"])}catch(s){a(l=>[...l,`Erro ao executar script: ${s}`])}finally{console.log=o,console.error=i,c(!1)}};return e.jsx("div",{className:"min-h-screen bg-vegas-black text-white p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#00ff00] mb-6",children:"Ferramenta de População de Números das Roletas"}),e.jsxs("div",{className:"bg-[#17161e]/90 backdrop-filter backdrop-blur-sm border border-white/10 rounded-xl p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Configurações"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Números por roleta:"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",value:n,onChange:o=>d(Number(o.target.value)),min:"1",max:"100",className:"bg-[#1a1922] border border-white/10 rounded px-3 py-2 w-24 text-white"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Defina quantos números serão inseridos para cada roleta existente."})]})]}),e.jsx(f,{onClick:m,disabled:r,className:"bg-[#00ff00] hover:bg-[#00cc00] text-black font-medium py-2 px-4 rounded-md",children:r?"Processando...":"Inserir Números"})]}),e.jsxs("div",{className:"bg-[#17161e]/90 backdrop-filter backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Logs"}),e.jsx("div",{className:"bg-black/50 rounded-md p-4 h-80 overflow-y-auto font-mono text-sm",children:t.length===0?e.jsx("p",{className:"text-gray-500",children:'Nenhum log disponível. Clique em "Inserir Números" para iniciar.'}):t.map((o,i)=>e.jsx("div",{className:"mb-1",children:o.includes("ERRO")?e.jsx("p",{className:"text-red-400",children:o}):e.jsx("p",{className:"text-green-400",children:o})},i))})]}),e.jsxs("div",{className:"mt-6 text-sm text-gray-400",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Atenção:"})," Este script insere números aleatórios para todas as roletas existentes na tabela 'roletas' do Supabase."]}),e.jsx("p",{children:"O processo pode levar alguns minutos dependendo do número de roletas e da quantidade de números por roleta."})]})]})})};export{R as default};
